{%extends 'main.html'%}
{%load static%}

{%block content%}
{% include 'base/header.html' %}
<!-- Begin Page Content -->
<div class="container-fluid">
    <div align="right">
        <a href="/home" class="btn btn-primary btn-icon-split">
            <span class="icon text-white-50">
                <i class="fas fa-list"></i>
            </span>
            <span class="text">Liste patients</span>
        </a>
    </div>
    <div class="">
        <div class="p-5">
            
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary"><i class="fas fa-edit"></i> Editer patient</h6>
                </div>
                <div class="card-body">
                    
                    
                    <font size="2px">
                        <form method="post" action="/edit_patient">
                            {% csrf_token %}
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label for="inputEmail4">Statut (staut actuel du dossier : <span class="btn btn-warning">{{patient.statut}}</span></label>
                                    <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="statut">
                                        <option>Choisir...</option>
                                        <option value="Admis">Admis</option>
                                        <option value="En cours">En cours</option>
                                        <option value="Traité">Traité</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Nom</label>
                                    <input type="text" class="form-control" name="nom" value="{{patient.nom}}" id="inputEmail4"
                                        placeholder="Nom patient">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputPassword4">Prénom</label>
                                    <input type="text" name="prenom" value="{{patient.prenom}}" class="form-control" id="inputPassword4"
                                        placeholder="Prénom patient">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Sexe</label>
                                    <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="sexe">
                                        <option>Choisir...</option>
                                        <option value="M">Masculin</option>
                                        <option value="F">Féminin</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputPassword4">Age</label>
                                    <input type="number" name="age" value="{{patient.age}}" class="form-control" id="inputPassword4"
                                        placeholder="Age (en année)" min="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Addresse</label>
                                <input type="text" class="form-control" value="{{patient.adresse}}" name="adresse" id="inputAddress"
                                    placeholder="Adresse exacte">
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Telephone</label>
                                    <input type="text" class="form-control" value="{{patient.telephone}}" id="inputCity" name="telephone"
                                        placeholder="N° de téléphone">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputState">Pays d'origine</label>
                                    <select class="custom-select mr-sm-2" id="inlineFormCustomSelect"
                                        name="pays_origine" required>
                                        <option selected>Choisir...</option>
                                        <option value="Sénégal">Sénégal</option>
                                        <option value="Magreb">Magreb</option>
                                        <option value="Moyen Orient">Moyen Orient</option>
                                        <option value="Europe">Europe</option>
                                        <option value="Amérique">Amérique</option>
                                        <option value="Océanie">Océanie</option>
                                        <option value="Asie">Asie</option>
                                        <option value="Autre">Autre</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Ambulancier</label>
                                    <!--<input type="text" class="form-control" id="inputCity" name="ambulancier"
                                        placeholder="Ambulancier" required>-->
                                    <select name="ambulancier" class="form-control" aria-placeholder="test" required>
                                        <option>- - - Choisir - - -</option>
                                        {% for p in personnels %}
                                            <option value="{{p.matricule}}">{{p.prenom}} {{p.nom}} - {{p.matricule}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Origine de l'appel</label>
                                    <input type="text" class="form-control" value="{{patient.origine_appel}}" id="inputCity" name="origine_appel"
                                        placeholder="origine_appel" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Motif de l'appel</label>
                                    <input type="text" class="form-control" value="{{patient.motif_appel}}" id="inputCity" name="motif_appel"
                                        placeholder="Motif de l'appel" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputState">Lieux d'intervention</label>
                                    <select class="custom-select mr-sm-2" id="inlineFormCustomSelect"
                                        name="lieu_intervention" required>
                                        <option selected>Choisir...</option>
                                        <option value="Domicile">Domicile</option>
                                        <option value="Voie publique">Voie publique</option>
                                        <option value="Lieu de travail">Lieu de travail</option>
                                        <option value="Etablissement de santé">Etablissement de santé</option>
                                        <option value="Etablissement scolaire">Etablissement scolaire</option>
                                        <option value="Assistance médicale">Assistance médicale</option>
                                        <option value="Cabinet médical">Cabinet médical</option>
                                        <option value="Lieu public">Lieu public</option>
                                        <option value="Autre">Autre</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Décision</label>
                                <select class="custom-select mr-sm-2" id="inlineFormCustomSelect" name="decision"
                                    required>
                                    <option selected>Choisir...</option>
                                    <option value="transport médicalisé prim.">Transport médicalisé primaire</option>
                                    <option value="transport médicalisé sec.">Transport médicalisé secondaire</option>
                                    <option value="transport paramédicalisé prim.">Transport paramédicalisé primaire
                                    </option>
                                    <option value="transport paramédicalisé sec.">Transport paramédicalisé secondaire
                                    </option>
                                    <option value="EVASAN">EVASAN</option>
                                    <option value="Décédé après réa">Décédé après réa</option>
                                    <option value="Décédé sans réa">Décédé sans réa</option>
                                    <option value="Laissé sur place">Laissé sur place</option>
                                    <option value="Refus de transport">Refus de transport</option>
                                    <option value="Blanche">Blanche</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Trajet</label>
                                    <input type="text" class="form-control" value="{{patient.trajet}}" id="inputCity" name="trajet"
                                        placeholder="Trajet transport" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputCity">Ambulance n°</label>
                                    <input type="text" class="form-control" id="inputCity" value="{{patient.numero_ambulance}}" name="numero_ambulance"
                                        placeholder="Ambulance n°" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Diagnostic évoqué</label>
                                <textarea class="form-control" id="inlineFormCustomSelect" name="diagnostic_evoque"
                                    rows="5" placeholder="{{patient.diagnostique_evoque}}" value="{{patient.diagnostique_evoque}}"></textarea>
                                <input type="hidden" name="patient_id" value="{{patient.id}}"/>
                            </div>

                            <div class="alert alert-secondary" role="alert">
                                <button type="submit" class="btn btn-primary">Enregistrer modifications</button>
                            </div>

                        </form>
                    </font>
                </div>
            </div>

        </div>
        {% include 'base/footer.html' %}

        {%endblock%}

        <!--
 
</div>
</body>
</html>-->